import{q as N,r as t,j as s,d as m}from"./app-da728457.js";import b from"./Mainlayout-7fcc381d.js";import v from"./FlashMessage-a30069c7.js";import{Q as w}from"./index-3abe81f5.js";import{u as P}from"./index-e2ecdd97.js";import"./ThemeConfig-942266fd.js";import"./Footer-93a16f13.js";import"./HeaderV3-f5723e8c.js";import"./Dropdown-2aa762ac.js";import"./i18next-b264b5f3.js";import"./nonIterableRest-5e64c36b.js";import"./iconBase-530cc4cf.js";import"./SidebarV3-3a51bfdb.js";import"./floating-ui.dom-7e60d8b9.js";function E(){const{allPermissions:r,flash:p,base_url:C}=N().props;P();const l=[10,20,30,50,100],[n,d]=t.useState(1),[a,x]=t.useState(l[0]),[i,h]=t.useState(r,"name"),[u,g]=t.useState(i),[o,f]=t.useState(""),[y,j]=t.useState({columnAccessor:"name",direction:"asc"});return t.useEffect(()=>{d(1)},[a]),t.useEffect(()=>{const e=(n-1)*a,c=e+a;g([...i.slice(e,c)])},[n,a,i]),t.useEffect(()=>{h(()=>r.filter(e=>e.permission_name&&e.permission_name.toLowerCase().includes(o.toLowerCase())))},[o]),s.jsxs(s.Fragment,{children:[s.jsx(v,{flash:p}),s.jsxs("div",{className:"panel mt-6",children:[s.jsxs("div",{className:"flex md:items-center flex-col sm:flex-row justify-between mb-5 gap-5",children:[s.jsx("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Permissions"}),s.jsxs("div",{className:"flex md:items-center gap-5",children:[s.jsx("div",{children:s.jsx("input",{type:"text",className:"form-input md:w-auto",placeholder:"Search...",value:o,onChange:e=>f(e.target.value)})}),s.jsx(m,{href:"/admin/permissions/create",method:"get",className:"px-7 py-2 bg-indigo-600 text-white rounded-md text-[15px]",children:"Add"})]})]}),s.jsx("div",{className:"datatables",children:s.jsx(w,{className:"whitespace-nowrap table-hover",records:u,columns:[{accessor:"permission_name",title:"Name",render:({permission_name:e})=>s.jsx("div",{className:"flex items-center w-max",children:s.jsx("div",{children:e})})},{accessor:"module",title:"Module",render:({module:e})=>s.jsx("div",{className:"flex items-center w-max",children:s.jsx("div",{children:e==null?void 0:e.name})})},{accessor:"action",title:"Action",titleClassName:"!text-center",render:e=>s.jsxs("div",{className:"flex items-center w-max mx-auto gap-2",children:[s.jsx(m,{href:`/admin/permissions/${e.id}/edit`,method:"get",className:"btn btn-sm btn-outline-primary",children:"Edit"}),s.jsx(m,{href:`/admin/permissions/${e.id}/delete`,method:"get",className:"btn btn-sm btn-outline-danger",children:"Delete"})]})}],totalRecords:i.length,recordsPerPage:a,page:n,onPageChange:e=>d(e),recordsPerPageOptions:l,onRecordsPerPageChange:x,onSortStatusChange:j,minHeight:200,paginationText:({from:e,to:c,totalRecords:S})=>`Showing  ${e} to ${c} of ${S} entries`})})]})]})}E.layout=r=>s.jsx(b,{children:r});export{E as default};
