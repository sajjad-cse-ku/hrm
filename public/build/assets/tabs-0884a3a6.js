import{r as u,R}from"./app-da728457.js";import{g as C,f as re,c as J,p as ne,S as Y,D as F,y as _,s as G,o as S,X as N,I as Q,u as O,m as k,N as B,e as ae,i as T,O as A,M as I,t as le}from"./use-is-mounted-72f2b62f.js";function K(e){var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function se(e,t){let[r,n]=u.useState(()=>K(e));return C(()=>{n(K(e))},[e.type,e.as]),C(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[r,t]),r}function ue({onFocus:e}){let[t,r]=u.useState(!0),n=re();return t?R.createElement(J,{as:"button",type:"button",features:ne.Focusable,onFocus:s=>{s.preventDefault();let a,o=50;function b(){if(o--<=0){a&&cancelAnimationFrame(a);return}if(e()){if(cancelAnimationFrame(a),!n.current)return;r(!1);return}a=requestAnimationFrame(b)}a=requestAnimationFrame(b)}}):null}const V=u.createContext(null);function oe(){return{groups:new Map,get(e,t){var r;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let s=(r=n.get(t))!=null?r:0;n.set(t,s+1);let a=Array.from(n.keys()).indexOf(t);function o(){let b=n.get(t);b>1?n.set(t,b-1):n.delete(t)}return[a,o]}}}function ie({children:e}){let t=u.useRef(oe());return u.createElement(V.Provider,{value:t},e)}function Z(e){let t=u.useContext(V);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let r=ce(),[n,s]=t.current.get(e,r);return u.useEffect(()=>s,[]),n}function ce(){var e,t,r;let n=(r=(t=(e=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?r:null;if(!n)return Symbol();let s=[],a=n;for(;a;)s.push(a.index),a=a.return;return"$."+s.join(".")}var de=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(de||{}),fe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(fe||{}),pe=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(pe||{});let be={0(e,t){var r;let n=k(e.tabs,c=>c.current),s=k(e.panels,c=>c.current),a=n.filter(c=>{var m;return!((m=c.current)!=null&&m.hasAttribute("disabled"))}),o={...e,tabs:n,panels:s};if(t.index<0||t.index>n.length-1){let c=O(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>O(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(a.length===0)return o;let m=O(c,{0:()=>n.indexOf(a[0]),1:()=>n.indexOf(a[a.length-1])});return{...o,selectedIndex:m===-1?e.selectedIndex:m}}let b=n.slice(0,t.index),y=[...n.slice(t.index),...b].find(c=>a.includes(c));if(!y)return o;let x=(r=n.indexOf(y))!=null?r:e.selectedIndex;return x===-1&&(x=e.selectedIndex),{...o,selectedIndex:x}},1(e,t){var r;if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],s=k([...e.tabs,t.tab],o=>o.current),a=(r=s.indexOf(n))!=null?r:e.selectedIndex;return a===-1&&(a=e.selectedIndex),{...e,tabs:s,selectedIndex:a}},2(e,t){return{...e,tabs:e.tabs.filter(r=>r!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:k([...e.panels,t.panel],r=>r.current)}},4(e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}}},j=u.createContext(null);j.displayName="TabsDataContext";function D(e){let t=u.useContext(j);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,D),r}return t}let z=u.createContext(null);z.displayName="TabsActionsContext";function X(e){let t=u.useContext(z);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,X),r}return t}function xe(e,t){return O(t.type,be,e,t)}let ge=u.Fragment;function me(e,t){let{defaultIndex:r=0,vertical:n=!1,manual:s=!1,onChange:a,selectedIndex:o=null,...b}=e;const y=n?"vertical":"horizontal",x=s?"manual":"auto";let c=o!==null,m=_(t),[i,v]=u.useReducer(xe,{selectedIndex:o??r,tabs:[],panels:[]}),f=u.useMemo(()=>({selectedIndex:i.selectedIndex}),[i.selectedIndex]),L=G(a||(()=>{})),M=G(i.tabs),p=u.useMemo(()=>({orientation:y,activation:x,...i}),[y,x,i]),g=S(d=>(v({type:1,tab:d}),()=>v({type:2,tab:d}))),h=S(d=>(v({type:3,panel:d}),()=>v({type:4,panel:d}))),$=S(d=>{w.current!==d&&L.current(d),c||v({type:0,index:d})}),w=G(c?e.selectedIndex:i.selectedIndex),W=u.useMemo(()=>({registerTab:g,registerPanel:h,change:$}),[]);C(()=>{v({type:0,index:o??r})},[o]),C(()=>{if(w.current===void 0||i.tabs.length<=0)return;let d=k(i.tabs,P=>P.current);d.some((P,l)=>i.tabs[l]!==P)&&$(d.indexOf(i.tabs[w.current]))});let q={ref:m};return R.createElement(ie,null,R.createElement(z.Provider,{value:W},R.createElement(j.Provider,{value:p},p.tabs.length<=0&&R.createElement(ue,{onFocus:()=>{var d,P;for(let l of M.current)if(((d=l.current)==null?void 0:d.tabIndex)===0)return(P=l.current)==null||P.focus(),!0;return!1}}),N({ourProps:q,theirProps:b,slot:f,defaultTag:ge,name:"Tabs"}))))}let ve="div";function Te(e,t){let{orientation:r,selectedIndex:n}=D("Tab.List"),s=_(t);return N({ourProps:{ref:s,role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:n},defaultTag:ve,name:"Tabs.List"})}let Ie="button";function ye(e,t){var r,n;let s=Q(),{id:a=`headlessui-tabs-tab-${s}`,...o}=e,{orientation:b,activation:y,selectedIndex:x,tabs:c,panels:m}=D("Tab"),i=X("Tab"),v=D("Tab"),f=u.useRef(null),L=_(f,t);C(()=>i.registerTab(f),[i,f]);let M=Z("tabs"),p=c.indexOf(f);p===-1&&(p=M);let g=p===x,h=S(l=>{var E;let U=l();if(U===B.Success&&y==="auto"){let ee=(E=ae(f))==null?void 0:E.activeElement,H=v.tabs.findIndex(te=>te.current===ee);H!==-1&&i.change(H)}return U}),$=S(l=>{let E=c.map(U=>U.current).filter(Boolean);if(l.key===T.Space||l.key===T.Enter){l.preventDefault(),l.stopPropagation(),i.change(p);return}switch(l.key){case T.Home:case T.PageUp:return l.preventDefault(),l.stopPropagation(),h(()=>A(E,I.First));case T.End:case T.PageDown:return l.preventDefault(),l.stopPropagation(),h(()=>A(E,I.Last))}if(h(()=>O(b,{vertical(){return l.key===T.ArrowUp?A(E,I.Previous|I.WrapAround):l.key===T.ArrowDown?A(E,I.Next|I.WrapAround):B.Error},horizontal(){return l.key===T.ArrowLeft?A(E,I.Previous|I.WrapAround):l.key===T.ArrowRight?A(E,I.Next|I.WrapAround):B.Error}}))===B.Success)return l.preventDefault()}),w=u.useRef(!1),W=S(()=>{var l;w.current||(w.current=!0,(l=f.current)==null||l.focus({preventScroll:!0}),i.change(p),le(()=>{w.current=!1}))}),q=S(l=>{l.preventDefault()}),d=u.useMemo(()=>({selected:g}),[g]),P={ref:L,onKeyDown:$,onMouseDown:q,onClick:W,id:a,role:"tab",type:se(e,f),"aria-controls":(n=(r=m[p])==null?void 0:r.current)==null?void 0:n.id,"aria-selected":g,tabIndex:g?0:-1};return N({ourProps:P,theirProps:o,slot:d,defaultTag:Ie,name:"Tabs.Tab"})}let Ee="div";function Pe(e,t){let{selectedIndex:r}=D("Tab.Panels"),n=_(t),s=u.useMemo(()=>({selectedIndex:r}),[r]);return N({ourProps:{ref:n},theirProps:e,slot:s,defaultTag:Ee,name:"Tabs.Panels"})}let he="div",$e=Y.RenderStrategy|Y.Static;function we(e,t){var r,n,s,a;let o=Q(),{id:b=`headlessui-tabs-panel-${o}`,tabIndex:y=0,...x}=e,{selectedIndex:c,tabs:m,panels:i}=D("Tab.Panel"),v=X("Tab.Panel"),f=u.useRef(null),L=_(f,t);C(()=>v.registerPanel(f),[v,f]);let M=Z("panels"),p=i.indexOf(f);p===-1&&(p=M);let g=p===c,h=u.useMemo(()=>({selected:g}),[g]),$={ref:L,id:b,role:"tabpanel","aria-labelledby":(n=(r=m[p])==null?void 0:r.current)==null?void 0:n.id,tabIndex:g?y:-1};return!g&&((s=x.unmount)==null||s)&&!((a=x.static)!=null&&a)?R.createElement(J,{as:"span",...$}):N({ourProps:$,theirProps:x,slot:h,defaultTag:he,features:$e,visible:g,name:"Tabs.Panel"})}let Se=F(ye),Ae=F(me),Re=F(Te),Ce=F(Pe),De=F(we),ke=Object.assign(Se,{Group:Ae,List:Re,Panels:Ce,Panel:De});export{ke as r};
